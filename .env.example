# --- Core ---
HOME_AGENT_NAME=home-agent
HOME_AGENT_LOG_LEVEL=INFO
HOME_AGENT_TIMEZONE=America/New_York

# --- Email (SMTP / global) ---
# Used by modules that need to send mail (e.g., Camect snapshot-to-email).
# Leave SMTP_HOST empty to disable outbound email.
SMTP_HOST=
SMTP_PORT=587
SMTP_USERNAME=
SMTP_PASSWORD=
SMTP_FROM=
SMTP_USE_STARTTLS=true
SMTP_USE_SSL=false
SMTP_TIMEOUT_SECONDS=20

# --- LLM (OpenAI-compatible Chat Completions) ---
LLM_BASE_URL=https://api.openai.com/v1
LLM_API_KEY=YOUR_LLM_KEY_HERE
LLM_MODEL=gpt-4o-mini
LLM_TIMEOUT_SECONDS=30

# Optional fallback LLM provider (OpenAI-compatible)
# LLM_FALLBACK_BASE_URL=https://api.groq.com/openai/v1
# LLM_FALLBACK_API_KEY=YOUR_FALLBACK_KEY_HERE
# LLM_FALLBACK_MODEL=llama-3.3-70b-versatile
# LLM_FALLBACK_TIMEOUT_SECONDS=30

# --- Sonos ---
# Comma-delimited list of speakers to announce to
SONOS_ANNOUNCE_TARGETS=10.1.2.58,10.1.2.242,10.1.2.137
SONOS_DEFAULT_VOLUME=50
# Optional alias map (alias=ip:volume). Example: office=10.1.2.58:60,kitchen=10.1.2.242:40
SONOS_SPEAKER_MAP=
# Optional default targets (aliases or IPs). If set, overrides SONOS_ANNOUNCE_TARGETS.
SONOS_GLOBAL_ANNOUNCE_TARGETS=
# Optional per-agent targets (aliases or IPs)
SONOS_MORNING_BRIEFING_TARGETS=
SONOS_WAKEUP_TARGETS=
SONOS_HOURLY_CHIME_TARGETS=
SONOS_FIXED_ANNOUNCEMENT_TARGETS=
# Optional per-speaker volume overrides (comma/semicolon delimited).
# Format: "<ip>:<volume>,<ip>:<volume>"
# Example: SONOS_SPEAKER_VOLUMES=10.1.2.58:35,10.1.2.72:45
# (Useful because different Sonos models can be louder/quieter at the same volume value.)
SONOS_SPEAKER_VOLUMES=
SONOS_ANNOUNCE_CONCURRENCY=4
# Extra time to wait after Sonos reports playback stopped (helps prevent clipped endings)
SONOS_TAIL_PADDING_SECONDS=3.0

# --- Quiet hours (enforced in sonos-gateway) ---
QUIET_HOURS_ENABLED=true
QUIET_HOURS_WEEKDAY_START=21:00
QUIET_HOURS_WEEKDAY_END=05:50
QUIET_HOURS_WEEKEND_START=21:00
QUIET_HOURS_WEEKEND_END=06:50

# --- ElevenLabs TTS ---
ELEVENLABS_API_KEY=YOUR_ELEVENLABS_KEY_HERE
ELEVENLABS_VOICE_ID=Wq15xSaY3gWvazBRaGEU
ELEVENLABS_BASE_URL=https://api.elevenlabs.io/v1
ELEVENLABS_TIMEOUT_SECONDS=30

# --- MQTT (event bus) ---
MQTT_HOST=127.0.0.1
MQTT_PORT=1883
# MQTT_USERNAME=homeagent
# MQTT_PASSWORD=change_me
MQTT_BASE_TOPIC=homeagent

# --- TimescaleDB (Postgres) ---
DB_HOST=127.0.0.1
DB_PORT=5432
DB_NAME=homeagent
DB_USER=homeagent
DB_PASSWORD=change_me
DB_SSLMODE=disable

# --- Weather (Open-Meteo, no API key) ---
WEATHER_PROVIDER=open_meteo
WEATHER_LAT=40.7128
WEATHER_LON=-74.0060
WEATHER_UNITS=imperial
WEATHER_TIMEOUT_SECONDS=10

# --- Temp Stick (optional) ---
# Reads temperature/humidity from Temp Stick API.
# Temp thresholds are in Fahrenheit; humidity is percentage.
# TEMPSTICK_ENABLED=true
# TEMPSTICK_API_KEY=YOUR_TEMPSTICK_KEY_HERE
# TEMPSTICK_SENSOR_ID=your_sensor_id
# TEMPSTICK_SENSOR_NAME=Greatroom
# TEMPSTICK_TEMP_LOW_F=60
# TEMPSTICK_TEMP_HIGH_F=78
# TEMPSTICK_HUMIDITY_LOW=20
# TEMPSTICK_HUMIDITY_HIGH=60
# TEMPSTICK_TIMEOUT_SECONDS=15

# --- UPS (optional, SNMP input voltage/frequency) ---
# Requires SNMP enabled on the UPS/network card.
# UPS_ENABLED=true
# UPS_NAME=Main UPS
# UPS_HOST=10.1.2.200
# UPS_PORT=161
# UPS_COMMUNITY=public
# UPS_SNMP_VERSION=2c
# UPS_TIMEOUT_SECONDS=2
# UPS_RETRIES=1
# Defaults to UPS-MIB input OIDs; override if needed.
# UPS_INPUT_VOLTAGE_OID=1.3.6.1.2.1.33.1.3.3.1.3.1
# UPS_INPUT_FREQUENCY_OID=1.3.6.1.2.1.33.1.3.3.1.2.1
# Scale factors to convert raw SNMP values to volts/Hz.
# UPS_INPUT_VOLTAGE_SCALE=1.0
# UPS_INPUT_FREQUENCY_SCALE=0.1
# Thresholds (optional)
# UPS_INPUT_VOLTAGE_LOW=108
# UPS_INPUT_VOLTAGE_HIGH=126
# UPS_INPUT_FREQUENCY_LOW=59.5
# UPS_INPUT_FREQUENCY_HIGH=60.5

# --- Internet egress check (optional) ---
# INTERNET_CHECK_ENABLED=true
# INTERNET_CHECK_HOST=1.1.1.1
# INTERNET_CHECK_DURATION_SECONDS=10
# INTERNET_CHECK_INTERVAL_SECONDS=1
# INTERNET_CHECK_TIMEOUT_SECONDS=1
# INTERNET_MAX_PACKET_LOSS_PERCENT=1
# INTERNET_MAX_LATENCY_MS=100

# --- Offline announcement audio (optional) ---
# Directory where pre-generated WAV files are stored.
# OFFLINE_AUDIO_DIR=assets/offline

# --- SimpleFIN (optional, read-only financial data) ---
# Claim an access URL at https://beta-bridge.simplefin.org/simplefin/create
# SIMPLEFIN_ENABLED=true
# SIMPLEFIN_ACCESS_URL=https://user:pass@beta-bridge.simplefin.org/simplefin
# SIMPLEFIN_TIMEOUT_SECONDS=30

# --- Executive briefing (optional) ---
# Plays on specified speaker(s) at 9am M-F. Uses weather, calendar, and SimpleFIN.
# EXEC_BRIEFING_TARGETS=office
# Optional separate ICS calendar URL (falls back to GCAL_ICS_URL if empty).
# EXEC_BRIEFING_ICS_URL=https://calendar.google.com/calendar/ical/<calendar_id>/private-<token>/basic.ics
# Optional dashboard URL to screenshot + extract metrics via vision LLM.
# EXEC_BRIEFING_DASHBOARD_URL=http://your-dashboard:port/path
# EXEC_BRIEFING_DASHBOARD_VISION_MODEL=meta-llama/llama-4-maverick-17b-128e-instruct
# Number of headlines per feed (default 5)
# EXEC_BRIEFING_NEWS_HEADLINES=5
# News feeds (JSON Feed format). Add as many as you like.
# Format: EXEC_BRIEFING_FEED_N=Label|URL
# EXEC_BRIEFING_FEED_1=AI News|https://rss.app/feeds/v1.1/XXXX.json
# EXEC_BRIEFING_FEED_2=Tech|https://rss.app/feeds/v1.1/YYYY.json

# --- Sunset scene (optional) ---
# Enable to trigger a Caséta scene at local sunset each day.
# SUNSET_SCENE_ENABLED=true
# SUNSET_SCENE_NAME=Nighttime
# SUNSET_SCENE_OFFSET_MINUTES=0

# --- Google Calendar (optional, ICS feed; no OAuth) ---
# Use the calendar's "Secret address in iCal format" URL. Treat it like a password.
# GCAL_ENABLED=true
# GCAL_ICS_URL=https://calendar.google.com/calendar/ical/<calendar_id>/private-<token>/basic.ics
# GCAL_POLL_SECONDS=600
# GCAL_LOOKAHEAD_DAYS=2

# --- Camect (optional, camera events) ---
# CAMECT_ENABLED=true
# CAMECT_HOST=10.1.2.150:443
# CAMECT_USERNAME=admin
# CAMECT_PASSWORD=YOUR_PASSWORD_HERE
# CAMECT_CAMERA_RULES="Front_Garage:vehicle,car,truck,van,suv;Front_Door:person,people,human"
# CAMECT_THROTTLE_SECONDS=120
# CAMECT_DEBUG=false
# CAMECT_STATUS_INTERVAL_SECONDS=60
# CAMECT_STALE_WARNING_SECONDS=300
# CAMECT_ANNOUNCE_TEMPLATE={kind} detected at {camera}.
# Optional: comma-delimited list of recipients to email snapshot images to (empty disables)
# CAMECT_EMAIL_ALERT_PICS_TO=you@example.com
# Vision analysis: send snapshot to vision LLM for enriched descriptions
# CAMECT_VISION_ENABLED=true
# CAMECT_VISION_MODEL=meta-llama/llama-4-maverick-17b-128e-instruct
# CAMECT_VISION_TIMEOUT_SECONDS=10

# --- Lutron Caséta (optional) ---
# CASETA_ENABLED=true
# CASETA_HOST=10.1.2.116
# CASETA_PORT=8081
# CASETA_CA_CERT_PATH=/home/ml/.config/pylutron_caseta/10.1.2.116-bridge.crt
# CASETA_CERT_PATH=/home/ml/.config/pylutron_caseta/10.1.2.116.crt
# CASETA_KEY_PATH=/home/ml/.config/pylutron_caseta/10.1.2.116.key

# --- Camera -> lighting automation (optional) ---
# CAMERA_LIGHTING_ENABLED=true
# CAMERA_LIGHTING_ONLY_DARK=true
# CAMERA_LIGHTING_CAMERA_NAME=Front_Door,Front_Garage
# CAMERA_LIGHTING_DETECTED_OBJ=vehicle,person
# CAMERA_LIGHTING_CASETA_DEVICE_ID=10,29
# CAMERA_LIGHTING_DURATION_SECONDS=600
# CAMERA_LIGHTING_MIN_RETRIGGER_SECONDS=30

# --- Web UI (optional) ---
# Simple LAN-only button UI that publishes MQTT events.
# Example URL: http://10.1.1.111:8001/
# UI_ENABLED=true
# UI_BIND_HOST=10.1.1.111
# UI_PORT=8001
# UI_TITLE=Home Agent
#
# Actions format:
#   id|Label|Text|targets(optional)|volume(optional)|concurrency(optional);...
# Example:
# UI_ACTIONS=dinner|Call to Dinner|Dinner time. Please come to the table.;kids_up|Kids Upstairs|Kids, please come upstairs.
# UI_ACTIONS=bedtime|Bedtime|Time for bed.|10.1.2.149,10.1.2.193|35|6
# UI_ACTIONS=
#
# Easier alternative: one action per line (preferred):
# UI_ACTION_1=dinner|Call to Dinner|Dinner time. Please come to the table.
# UI_ACTION_2=kids_up|Kids Upstairs|Kids, please come upstairs.
# UI_ACTION_3=bedtime|Bedtime|It is bedtime. Please start getting ready.|10.1.2.149,10.1.2.193|35|6

